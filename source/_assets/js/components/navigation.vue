<template lang="html">
    <div id="fitz-container" class="absolute">
        <button @click="clicky" class="absolute bg-grey hover:bg-blue text-white py-2 px-4 rounded-full shadow focus:shadow-outline mr-2 mt-2 pin-r" type="button">Click</button>
        <svg class="fadeIn" xmlns="http://www.w3.org/2000/svg" width="100vw" height="100vh" preserveAspectRatio="xMinYMin meet">
            <mask id="mask" x="0" y="0">
                <rect fill="#ffffff" x="0" y="0" width="100%" height="100%" />
                <path :transform="location" d="M249.553422,71.321357 C250.457751,73.2850543 250.242435,77.1656942 246.495928,78.4748258 C234.610459,81.7008999 223.973825,86.2828603 213.208002,92.1271975 C175.958252,112.231718 155.54625,139.02216 154.512731,140.191027 C150.723161,144.445704 149.12982,147.438005 144.780427,151.786192 C143.574655,152.721286 140.77554,153.983663 137.976426,152.019966 C135.909388,150.523815 134.875869,147.952307 135.435692,144.960006 C137.37354,137.292236 138.622376,134.673973 141.076983,128.689371 C145.124933,118.637111 149.474326,109.192662 154.383541,100.356024 C154.340478,100.356024 130.69873,109.753719 130.69873,109.753719 C112.310703,169.693241 94.353309,245.529361 94.353309,245.529361 C93.1906001,249.363247 89.3149036,250.719133 86.601916,249.643775 C84.104245,248.661926 82.20946,245.71638 82.8123461,242.163023 C82.8123461,242.163023 115.841893,120.974846 117.133792,115.270773 C117.133792,115.270773 105.377512,119.852733 104.04255,120.133262 C100.89893,120.928091 97.4538662,118.12281 96.9371067,115.130509 C96.5064738,112.605755 97.4969295,109.379681 100.941993,107.743267 C102.018575,107.228965 106.755538,105.68606 109.210146,104.750966 C113.947108,102.880778 115.755766,102.132703 121.353995,99.9819868 C124.799058,87.8257653 146.459895,4.13485611 146.459895,4.13485611 C147.708731,1.14255544 150.723161,-1.00816066 154.125162,0.487989672 C154.943364,0.908781953 158.819061,3.24651685 157.914732,7.68821315 C157.053466,11.5688531 134.875869,94.9324794 134.875869,94.9324794 C134.875869,94.9324794 162.780884,83.5243331 170.618403,81.9346734 C173.159138,81.841164 173.245264,82.5424845 173.934277,83.7581066 C175.312303,86.7036526 173.460581,88.9011234 172.943821,89.7894627 C166.312074,99.6079492 155.976883,121.021601 151.627491,129.717975 C157.053466,123.032053 177.508531,100.776817 206.188685,84.1788989 C209.762938,82.1216922 214.715217,79.1761462 218.67704,77.5397318 C228.796914,73.3785637 232.285041,71.7421493 243.782941,68.5628298 C247.443321,67.3939624 249.208916,70.5732818 249.553422,71.321357 Z M90.8698809,113.357253 C93.804869,114.246682 95.5063114,118.132084 94.9533426,120.566311 L79.8105054,176.553545 C78.109063,181.187939 73.8554571,180.953879 72.0689426,180.158074 C70.1973559,179.221832 67.9429448,176.740793 68.5384496,173.042639 L83.7238229,116.821346 C84.489472,114.153058 87.9774288,112.467824 90.8698809,113.357253 Z M77.0711005,122.918892 C79.9558847,128.88703 74.789107,131.777847 74.789107,131.777847 L52.6580759,139.844159 L36.813291,197.847002 C36.1674438,200.178306 33.1965466,203.768514 28.7186726,201.996723 C27.5561477,201.530462 24.2838551,199.012654 25.2741542,194.53655 L38.9661151,145.252784 L25.8769449,149.915392 C24.0685727,150.428279 20.2365459,150.335027 18.6003997,145.858923 C17.6101006,143.061358 18.987908,139.004889 22.0449181,137.839237 L43.5731585,130.006056 L56.8345546,80.5824114 C56.8345546,80.5824114 10.6349507,98.7665825 7.79322301,99.5592259 C7.31960172,99.6991041 6.63069803,99.8389824 5.98485082,99.8389824 C2.66950181,99.8389824 -1.42108547e-14,96.9947915 -1.42108547e-14,93.4512094 C-1.42108547e-14,90.7468968 1.55003331,88.4155928 3.83202678,87.5296973 C3.83202678,87.5296973 60.1929601,66.2682049 63.3791396,65.0559268 C65.7041896,64.1700313 67.9431266,64.7295443 69.7084423,66.4080832 C71.0862497,67.8068655 72.0334923,69.9050391 71.559871,72.2829692 L57.1359499,124.783935 L70.5695719,119.981449 C72.8085089,119.37531 75.2627283,120.261205 77.0711005,122.918892 Z"></path>
            </mask>

            <rect mask="url(#mask)" fill="#ffffff" x="0" y="0" width="100%" height="100%" />
        </svg>
        <div style="z-index: -1" id="a" class="absolute pin-t pin-l bg-blue h-full w-full"></div>
    </div>
</template>

<script>
export default {
  data: () => ({
    location: null
  }),
  created() {
    window.addEventListener("resize", this.handleResize);
    this.handleResize();
  },
  destroyed() {
    window.removeEventListener("resize", this.handleResize);
  },
  methods: {
    handleResize() {
      let scale = 4;
      const x = window.innerWidth / 2 - (250 / 2) * scale;
      const y = window.innerHeight / 2 - (250 / 2) * scale;
      this.location = `translate(${x} ${y}) scale(${scale})`;
    },
    clicky() {
      document.getElementById("a").classList.add("a");
    }
  }
};
</script>

<style lang="scss" scoped>
#fitz-container {
  z-index: -1;
}
#a {
  transform: translateX(-100%);
}
.a {
  animation: move 3s ease-in forwards;
}
@keyframes move {
  100% {
    transform: translateX(0%);
  }
}
</style>
